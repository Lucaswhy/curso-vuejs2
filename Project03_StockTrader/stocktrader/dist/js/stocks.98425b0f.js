(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["stocks"],{2007:function(t,e,a){"use strict";a("7a99")},"5c5b":function(t,e,a){},"7a99":function(t,e,a){},"83c7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div__card"},t._l(t.stock,(function(e){return a("div",{key:e.id,staticClass:"card ms-2 mt-2",staticStyle:{width:"18rem"}},[a("div",{staticClass:"card-body text-center"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.initial))]),a("hr"),a("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(e.name))]),null==e.profit?a("p",{staticClass:"div--card"},[t._v(" "+t._s(t._f("money")(e.price))+" ")]):t._e(),1==e.profit?a("p",{staticClass:"div--card text-success"},[t._v(" "+t._s(t._f("money")(e.price))+" ")]):t._e(),0==e.profit?a("p",{staticClass:"div--card text-danger"},[t._v(" "+t._s(t._f("money")(e.price))+" ")]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity[e.id],expression:"quantity[s.id]"}],staticClass:"w-50",attrs:{type:"number"},domProps:{value:t.quantity[e.id]},on:{input:function(a){a.target.composing||t.$set(t.quantity,e.id,a.target.value)}}}),a("button",{staticClass:"btn btn-secondary btn-sm float-end",on:{click:function(a){return t.buy(e)}}},[t._v("Comprar")])])])})),0)},s=[],n=(a("159b"),a("b0c0"),{data:function(){return{quantity:[]}},computed:{stock:function(){return this.$store.state.stock}},methods:{calcMoney:function(t){return this.$store.state.userMoney-=t,0},verifyStock:function(t){var e=!1;return this.$store.state.userStock.forEach((function(a){t.name===a.name&&(e=!0,a.quantity=parseInt(t.quantity,10)+parseInt(a.quantity,10),a.totalPrice=parseFloat(t.totalPrice)+parseFloat(a.totalPrice))})),e},buy:function(t){var e=t.price*this.quantity[t.id];if(this.$store.state.userMoney<e)return alert("Você não tem dinheiro o suficiente para comprar essa quantidade de ações.");if(this.quantity[t.id]<=0)return alert("Por favor informe uma quantidade de ações maior que 0.");this.calcMoney(e);var a={id:t.id,name:t.name,initial:t.initial,quantity:this.quantity[t.id],price:t.price,totalPrice:e};return this.verifyStock(a)?0:this.$store.state.userStock.push(a)}}}),r=n,o=(a("2007"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,null,null);e["default"]=c.exports},a31f:function(t,e,a){"use strict";a("5c5b")},b0c0:function(t,e,a){var i=a("83ab"),s=a("9bf2").f,n=Function.prototype,r=n.toString,o=/^\s*function ([^ (]*)/,c="name";i&&!(c in n)&&s(n,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},ef5f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div__card"},t._l(t.userStock,(function(e){return a("div",{key:e.id,staticClass:"card ms-2 mt-2",staticStyle:{width:"18rem"}},[a("div",{staticClass:"card-body text-center"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.initial))]),a("hr"),a("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(e.name))]),a("p",{staticClass:"div--card"},[t._v(" "+t._s(t._f("money")(e.totalPrice))+" ")]),a("p",[t._v(" Total: "+t._s(e.quantity)+" Comprado por: "+t._s(t._f("money")(e.price))+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity[e.id],expression:"quantity[u.id]"}],staticClass:"w-50",attrs:{type:"number"},domProps:{value:t.quantity[e.id]},on:{input:function(a){a.target.composing||t.$set(t.quantity,e.id,a.target.value)}}}),a("button",{staticClass:"btn btn-secondary btn-sm float-end",on:{click:function(a){return t.sell(e)}}},[t._v("Vender")])])])})),0)},s=[],n=(a("159b"),a("b0c0"),a("4de4"),{data:function(){return{quantity:[]}},computed:{userStock:function(){return this.$store.state.userStock}},methods:{sell:function(t){var e=0;this.$store.state.userStock.forEach((function(a,i){t.name===a.name&&(e=i)}));var a=parseFloat(this.$store.state.stock[t.id].price)*this.quantity[t.id],i=parseInt(this.$store.state.userStock[e].quantity,10);if(this.quantity[t.id]<=0)return alert("Por favor informe uma quantidade de ações maior que 0."),0;if(i<parseInt(this.quantity[t.id],10))return alert("Você não possui essa quantidade de ações."),0;if(i>parseInt(this.quantity[t.id],10))this.$store.state.userStock[e].quantity=parseInt(i,10)-parseInt(this.quantity[t.id],10),this.$store.state.userStock[e].totalPrice-=parseFloat(a);else{var s=0;this.$store.state.userStock=this.$store.state.userStock.filter((function(e){return e!==t})),this.$store.state.userStock.forEach((function(t){t.id=s,s+=1}))}return this.addMoney(a),0},addMoney:function(t){return this.$store.state.userMoney+=t,0}}}),r=n,o=(a("a31f"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=stocks.98425b0f.js.map